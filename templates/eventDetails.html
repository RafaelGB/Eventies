{% extends 'base.html' %}

{% load staticfiles %}
{% load static %}

{% block title %}{{ object.title }}{% endblock %}
{% block stylesheet %}<!-- opcion de estilo -->
<style>
	#circle
	{
	  	width: 100px;
		height: 100px;

		background: blue;
		-moz-border-radius: 50px;
		-webkit-border-radius: 50px;
		border-radius: 50px;
		float:left;
	 	margin:5px;
	}
	.count, .counted
	{
	  line-height: 100px;
	  color:white;
	  font-size:25px;
	}

	      /* Always set the map height explicitly to define the size of the div
       * element that contains the map. */
      #map {
        height: 400px;
        width: 100%;
       }
</style>
{% endblock %} <!-- fin de opcion de estilo -->
{% block javascript %}
<script src="{% static 'js/eventDetailsActions.js' %}"></script>
{% endblock %}


{% block breadcrumb %}
  <li class="breadcrumb-item"><a href="{% url 'home' %}">Inicio</a></li>
  <li class="breadcrumb-item active">ver evento: {{ object.title }}</li>
{% endblock %}

{% block content %}


<div class="container text-center">    
  <h1>{{ object.title }}</h1>
  <br>
</div> 

<div class="container">
<div class="row">
  <div class="col-sm-8">
    <div id="myCarousel" class="carousel slide" data-ride="carousel">
      <!-- Indicators -->
      <ol class="carousel-indicators">
        {% for photo in photos %}
          <li data-target="#myCarousel" data-slide-to="{{ forloop.counter0 }}" {% if forloop.first %} class="active" {% endif %}></li>
        {% endfor %}
      </ol>

      <!-- Wrapper for slides -->
      <div class="carousel-inner" role="listbox">
        {% for photo in photos %}
          
        <div class="item {% if forloop.first %} active {% endif %}">
        
          <img src="{{photo.picture.url}}" alt="Image">
          <div class="carousel-caption">
            <h3>Sell $</h3>
            <p>Money Money.</p>
          </div>      
        </div>
        {% endfor %}
      </div>

      {%if photos.count > 1 %}
      <!-- Left and right controls -->
      <a class="left carousel-control" href="#myCarousel" role="button" data-slide="prev">
        <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
      </a>
      <a class="right carousel-control" href="#myCarousel" role="button" data-slide="next">
        <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
      </a>
      {% endif %}
    </div>
  </div>
  <div class="col-sm-4">
  	<label>resumen</label>
    <div class="well">
      <p>{{ object.summary }}</p>
    </div>
    <label>Descripción</label>
    <div class="well">
       <p>{{ object.description }}</p>
    </div>
  </div>
</div>
<hr>
</div>

<div class="container text-center">    
 	 </h2>Maps Demo</h2>
    <div id="map"></div>
<hr>
</div>

<div class="container text-center">   
  	
 	<div class="row">
	    <div class="col-sm-2">
	    	<label>Visitas</label>
	    	<div style="clear:both"></div> 
			<div id="circle"><span class="count">{{ object.views }}</span></div>
	    </div>
	    <div class="col-sm-2"> 
	    	<label>Estoy interesado</label>
	    	<div style="clear:both"></div> 
			<div id="circle"><span class="count">{{ object.interested }}</span></div>
	    </div>
	    <div class="col-sm-2"> 
	    	<label>Voy a asistir</label>
	    	<div style="clear:both"></div> 	
			<div id="circle"><span class="count">{{ object.assistants }}</span></div>
	    </div>
  	</div>
  	<hr>
</div>
<h2>Categorías</h2>
<div class="panel panel-default">
  <div class="panel-body">
    {% for category in eventCategories %}
    <a href="{% url 'eventFilter' type='all' %}?categories={{ category }}" class="btn btn-info" role="button">{{category}} </a>
    {% endfor %}
  </div>
</div>
<h2>Palabras clave</h2>
<div class="panel panel-default">
  <div class="panel-body">
  	{% for mykey,myvalue in eventTags.items %}
  	<a href="{% url 'eventFilter' type='all' %}?tags={{ mykey }}" class="btn btn-info" role="button">{{mykey}} <span class="badge">{{myvalue}}</span></a>
  	{% endfor %}
  </div>
</div>

	<p>precio estimado: {{ object.budget }}</p>
	<p>duracion estimada: {{ object.duration }}</p>
	<p>votos:(habilitar despues de la fecha del evento) {{ object.score }}</p>
	<p>Fecha de creación: {{ object.created_at }}</p>
	<p>Fecha de la última actualización: {{ object.updated_at }}</p>
	<p>Creado por: {{ object.created_by }}</p>
	<p>Localizado en: {{ object.geopos_at.coordinates }}</p>

{% endblock %}

{% block javascriptBottom %}
	<script>
		var myLat = {{ coor.y }}
		var myLng = {{ coor.x }}
		initMap = function() {
			var uluru = {lat: myLat, lng: myLng };
			var map = new google.maps.Map(document.getElementById('map'), {
			  zoom: 17,
			  center: uluru
			});
			var marker = new google.maps.Marker({
			  position: uluru,
			  map: map
			});
		}
	</script>
	<script async defer
	    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAOt21MFO0p-9eB7yNqwSKN76RjAEXNERE&callback=initMap">
	</script>
{% endblock %}



